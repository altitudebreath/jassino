var Jassino=function(){function m(a){var b=a.toString();if(b=="[object Object]"){b="";for(var c in a)b+=c+"::"+a[c]+"\n"}return b}function n(){return function(a,b){this.message=(b||"DATA:")+" ==> "+m(a)}}function o(a,b,c){return Array.prototype.slice.call(a,b,c)}function p(a){return Object.prototype.toString.call(a)==="[object Array]"}function q(a,b,c){if(!a||!b)return a;for(var d in b)a[d]!==b[d]&&a!==b[d]&&(c===!0||!a.hasOwnProperty(d))&&(a[d]=b[d]);return a}function r(a,b){for(var c=0;c<b.length;c++)q(a,b[c],!0)}function s(a){var b,c=l.ArgumentsError,d=0,e=a.length;if(e<2)throw new c(a);if(a[0]!==null&&typeof a[0]===k&&!p(a[0]))d++,b=a[0];else{if(!a[0]||typeof a[0]!==j)throw new c(a);b=l.NS}var f={body:a[e-1],ns:b,name:a[d]},g=e-(d+1)-1;if(!f.name||typeof f.name!==j)throw new c(f);if(g>0){var h=a[d+1];if(g==2){var m=a[d+2];if(typeof h!=i||!p(m))throw new c(f);f.sclass=h,f.straits=m}else if(typeof h===i)f.sclass=h;else{if(!p(h))throw new c(f);f.straits=h}}return f}function t(a,b){if(typeof a.ns[a.name]!==h)throw new l.DuplicationError(a);a.ns[a.name]=b}var a="_",b="_C",c="_C",d="_N",e="$",f="$C",g="$N",h="undefined",i="function",j="string",k="object",l={NS:{},DuplicationError:n(),ArgumentsError:n(),ConstructorError:n(),extend:q,is_array:p};return l.Trait=function(){var a=s(arguments),b={};return t(a,b),a.straits&&r(b,a.straits),q(b,a.body,!0),b},l.Class=function(){var h=s(arguments),j=h.body,k=h.sclass,m=j[a],n;delete j[a];if(!m)n=k?function(){k.apply(this,arguments)}:function(){};else if(typeof m===i)n=function(){m.apply(this,arguments)};else{if(!p(m))throw new l.ConstructorError(m);if(!p(m[0])){if(k)throw new l.ConstructorError(m,"Shortcut _: [arg,...] assumes NO SuperClass");n=function(){for(var a=0;a<m.length;a++)this[m[a]]=arguments[a]}}else{if(!k)throw new l.ConstructorError(m,"Shortcut _: [[super_arg1,...], [arg1,...]] assumes SuperClass");var u=m[0].length,v=m[1];n=function(){k.apply(this,o(arguments,0,u));for(var a=0;a<v.length;a++)this[v[a]]=arguments[u+a]}}}t(h,n),n[c]=n,n[d]=h.name,j[b]&&(q(n,j[b],!0),delete j[b]);if(k){var w=j[g]||k[d];delete j[g];var x=function(){};x.prototype=k.prototype,n.prototype=new x,n.prototype.constructor=n,n[f]=k,n[g]=w,n.prototype[w+e]=k.prototype,n.prototype[w]=function(){k.apply(this,arguments)},q(n,k,!1)}return h.straits&&r(n.prototype,h.straits),q(n.prototype,j,!0),n},l}();